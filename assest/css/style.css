
/**
 * IS-115 Prosjektoppgave - Chat Application Styles
 * 
 * This stylesheet defines the visual appearance of the AI chat application.
 * It creates a clean, modern interface with proper spacing, colors, and
 * responsive design elements.
 * 
 * Key Design Features:
 * - Clean, minimal design with good contrast
 * - Responsive layout that works on different screen sizes
 * - Distinct styling for user vs AI messages
 * - Syntax highlighting support for code blocks
 * - Scrollable chat area with proper overflow handling
 */

/* Global body styling - sets basic page layout and spacing */
body {
    margin: 20px;  /* Add some space around the entire page */
}

/* Main container - centers content and sets maximum width for readability */
.container {
    max-width: 100vh;  /* Increased width to accommodate sidebar */
    margin: 0 auto;    /* Center the container horizontally */
}

/* Main layout container for sidebar and chat area */
.main-layout {
    display: flex;
    gap: 20px;
    min-height: 80vh;
}

/* Sidebar styling */
.sidebar {
    width: 300px;
    background-color: #f8f9fa;
    border: 1px solid #e9ecef;
    border-radius: 8px;
    padding: 15px;
    flex-shrink: 0;
}

.sidebar-header {
    margin-bottom: 15px;
}

.new-chat-btn {
    width: 100%;
    padding: 12px;
    background-color: #5e5e5e;
    color: white;
    border: none;
    border-radius: 6px;
    font-size: 14px;
    font-weight: 500;
    cursor: pointer;
    transition: background-color 0.2s;
}

.new-chat-btn:hover {
    background-color: #858585;
}

.session-list {
    max-height: 70vh;
    overflow-y: auto;
}

.session-item {
    padding: 12px;
    margin-bottom: 8px;
    background-color: white;
    border: 1px solid #e9ecef;
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.2s;
    position: relative;
}

.session-item:hover {
    background-color: #f8f9fa;
    border-color: #474747;
}

.session-item.active {
    background-color: #eeeeee;
    border-color: #3b3b3b;
}

.session-title {
    font-weight: 500;
    margin-bottom: 4px;
    color: #333;
    word-wrap: break-word;
}

.session-date {
    font-size: 12px;
    color: #666;
}

.session-delete {
    position: absolute;
    top: 8px;
    right: 8px;
    background: rgb(255, 255, 255);
    border-radius: 20%;
    border: none;
    color: #dc3545;
    cursor: pointer;
    font-size: 24px;
    padding: 2px;
    opacity: 0;
    transition: opacity 0.2s;
}

.session-item:hover .session-delete {
    opacity: 1;
}

.session-delete:hover {
    color: #a71e2a;
}

/* Chat container */
.chat-container {
    flex: 1;
    display: flex;
    flex-direction: column;
}

/* Chat area - the main conversation display area */
.chat-area {
    height: 83vh;          /* Set height to 83% of viewport height */
    max-height: 83vh;      /* Ensure it doesn't exceed 83% of viewport */
    border: 1px solid #ccc; /* Subtle border to define the chat area */
    padding: 15px;         /* Internal spacing for content */
    margin-bottom: 20px;   /* External spacing below */
    background-color: #f9f9f9; /* Light gray background for contrast */
    line-height: 1.4;      /* Improved line spacing for readability */
    font-size: 1.0rem;     /* Standard font size */
    overflow-y: auto;      /* Enable vertical scrolling when content overflows */
    scroll-behavior: smooth; /* Smooth scrolling animation */
    border-radius: 8px;    /* Rounded corners */
}

/* Base message styling - applies to all chat messages */
.message {
    margin: 20px 0;        /* Vertical spacing between messages */
    padding: 10px;         /* Internal padding for message content */
    border-radius: 10px;   /* Rounded corners for modern appearance */
}

/* User message styling - messages sent by the user */
.message[role="user"] {
    background-color: rgb(231, 231, 231); /* Light gray background */
    text-align: left;      /* Left-align text content */
    margin-left: 20vh;     /* Indent from left to distinguish from AI messages */
}

/* AI/Model message styling - messages from the AI assistant */
.message[role="model"] {
    text-align: left;      /* Left-align text content */
    /* No special background - uses default white/transparent */
}

#chatForm {
    display: flex;
    flex-direction: row;
    justify-content: space-between;
    align-items: center;
}

/* Text input field styling */
input[type="text"] {
width: 88%;            /* Take up 70% of available width */
         /* Internal padding for comfortable typing */
    background-color: #f8f9fa;
    border: 1px solid #e9ecef;
    border-radius: 8px;
    padding: 15px;
    margin-right: 10px;

}

/* Button styling - applies to all buttons (Send, Clear Chat) */
#sendButton {
    background-color: #f8f9fa;
    border: 1px solid #4d4d4d;
    border-radius: 8px;
    padding: 15px;
    flex-shrink: 0;
}
#sendButton:hover {
    background-color: #e4e4e4;
    border: 1px solid #4d4d4d;
    border-radius: 8px;
    padding: 15px;
    flex-shrink: 0;
}

/**
 * Markdown Content Styling
 * 
 * These styles handle the formatting of markdown content that comes from
 * the AI responses. The Parsedown library converts markdown to HTML,
 * and these styles make that HTML look good in our chat interface.
 */

/* Heading styles - different sizes for different heading levels */
.message h1, .message h2, .message h3, .message h4, .message h5, .message h6 {
    margin: 15px 0 10px 0;  /* Consistent spacing above and below headings */
    font-weight: bold;       /* Make headings stand out */
}

/* Specific font sizes for each heading level (h1 largest, h6 smallest) */
.message h1 { font-size: 1.5em; }   /* Largest heading */
.message h2 { font-size: 1.3em; }   /* Second largest */
.message h3 { font-size: 1.2em; }   /* Medium heading */
.message h4 { font-size: 1.1em; }   /* Smaller heading */
.message h5 { font-size: 1.05em; }  /* Even smaller */
.message h6 { font-size: 1em; }     /* Smallest heading */

/* Paragraph styling - proper spacing between paragraphs */
.message p {
    margin: 10px 0;  /* Consistent spacing above and below paragraphs */
}

/* Inline code styling - for code snippets within text */
.message code {
    background-color: #f4f4f4;  /* Light gray background */
    padding: 2px 4px;           /* Small padding around code */
    border-radius: 3px;         /* Slightly rounded corners */
    font-family: 'Courier New', monospace;  /* Monospace font for code */
    font-size: 0.9em;           /* Slightly smaller font size */
}

/* Code block styling - for multi-line code examples */
.message pre {
    background-color: #2d3748;  /* Dark background for code blocks */
    padding: 15px;              /* Generous padding around code */
    border-radius: 8px;         /* Rounded corners */
    overflow-x: auto;           /* Horizontal scroll for long lines */
    margin: 15px 0;             /* Spacing above and below */
    border: 1px solid #4a5568;  /* Subtle border */
}

/* Code within code blocks - overrides inline code styling */
.message pre code {
    background-color: transparent;  /* No background (uses pre background) */
    padding: 0;                     /* No padding (uses pre padding) */
    color: #e2e8f0;                /* Light text color for dark background */
    font-family: 'Fira Code', 'Courier New', monospace;  /* Modern monospace font */
    font-size: 0.9em;              /* Consistent font size */
    line-height: 1.5;              /* Better line spacing for readability */
}

/* Prism.js syntax highlighting theme overrides */
/* These ensure Prism.js syntax highlighting integrates well with our design */
.message pre[class*="language-"] {
    background-color: #2d3748;  /* Dark background for syntax highlighting */
    border: 1px solid #4a5568;  /* Consistent border */
}

.message code[class*="language-"] {
    background-color: transparent;  /* No background (uses pre background) */
    color: #e2e8f0;                /* Light text color */
}

/* List styling - for ordered and unordered lists */
.message ul, .message ol {
    margin: 10px 0;      /* Spacing above and below lists */
    padding-left: 20px;  /* Indent list items */
}

.message li {
    margin: 5px 0;       /* Spacing between list items */
}

/* Blockquote styling - for quoted text */
.message blockquote {
    border-left: 4px solid #ddd;  /* Left border to indicate quote */
    margin: 10px 0;               /* Spacing above and below */
    padding-left: 15px;           /* Indent quoted text */
    color: #666;                  /* Slightly muted text color */
}

/* Table styling - for data tables */
.message table {
    border-collapse: collapse;  /* Merge table borders */
    width: 100%;               /* Full width tables */
    margin: 10px 0;            /* Spacing above and below */
}

.message th, .message td {
    border: 1px solid #ddd;    /* Border around each cell */
    padding: 8px;              /* Padding inside cells */
    text-align: left;          /* Left-align text in cells */
}

.message th {
    background-color: #f2f2f2;  /* Light background for headers */
    font-weight: bold;          /* Bold text for headers */
}

/* Text formatting - bold and italic */
.message strong {
    font-weight: bold;  /* Bold text */
}

.message em {
    font-style: italic;  /* Italic text */
}

/* Link styling - for clickable links */
.message a {
    color: #0066cc;           /* Blue color for links */
    text-decoration: underline;  /* Underline to indicate clickability */
}

.message a:hover {
    color: #004499;  /* Darker blue on hover */
}